<template name="appointmentListTemplate">
    {{#if selectedCourse}}
        <div class="page-header">
            <h2>Your appointments on course "{{selectedCourse.name}}"</h2>
        </div>
        {{> filterTemplate}}
        <div class="row top-buffer">
            <div class="col-md-12">
                {{#if appointments.count}}
                    <table class="table">
                        <thead>
                            <tr>
                                <td>Title</td>
                                <td>Date</td>
                                <td>Time</td>
                                <td>Location</td>
                                <td>Assistant</td>
                                <td>Student</td>
                                <td>Cancellation dl</td>
                                <td>Cancel</td>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each appointments}}
                                <tr>
                                    <td>{{title}}</td>
                                    <td>{{formatDate start}}</td>
                                    <td>{{formatTime start}} - {{formatTime end}}</td>
                                    <td>{{location}}</td>
                                    <td>{{getUserName assistant}}</td>
                                    <td>{{getUserName student}}</td>
                                    <td>{{formatDateTime editEnds}}</td>
                                    <td>
                                        {{#if canEdit editEnds}}
                                            <button class="appointment-cancel-button" type="button" value="{{_id}}">Cancel</button>
                                        {{/if}}
                                    </td>
                                </tr>
                            {{/each}}
                        </tbody>
                    </table>
                {{else}}
                    <p>You don't have any reserved appointments on this course that match the selected filter.</p>
                {{/if}}
            </div>
        </div>
    {{else}}
        <p>Please select course first!</p>
    {{/if}}
</template>


